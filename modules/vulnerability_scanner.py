import os

def run_nuclei_scan(domain):
    print(f"[+] Escaneando vulnerabilidades en {domain} con Nuclei...")

    output_file = "vulnerabilities.txt"
    os.system(f"nuclei -u {domain} -t ~/nuclei-templates/ -o {output_file}")

    with open(output_file, "r") as f:
        vulnerabilities = f.readlines()

    if vulnerabilities:
        print("[+] Vulnerabilidades encontradas:")
        for v in vulnerabilities:
            print(v.strip())
    else:
        print("[-] No se encontraron vulnerabilidades.")

    return vulnerabilities
